{
	"name": "Main Gameplay Events",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Control Input Events"
		},
		{
			"eventType": "include",
			"includeSheet": "Debug Events"
		},
		{
			"eventType": "comment",
			"text": "Directional movement (single-player or host)."
		},
		{
			"aceType": "action",
			"aceName": "Shoot",
			"objectClass": "PlayerShip",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"id": "add-to-instvar",
					"objectClass": "PlayerShip",
					"sid": 899003951190074,
					"parameters": {
						"instance-variable": "shotTimer",
						"value": "Self.shotCooldown"
					}
				}
			],
			"sid": 269939029179755,
			"children": [
				{
					"eventType": "comment",
					"text": "The offsets are applied to bullet spawn parameters to create a fan effect, based on the ship's shots per burst and spread attributes."
				},
				{
					"eventType": "variable",
					"name": "xOffset",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 796951713964139
				},
				{
					"eventType": "variable",
					"name": "yOffset",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 496715666846810
				},
				{
					"eventType": "variable",
					"name": "angleOffset",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 871720135006195
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 882632740256133,
							"parameters": {
								"count": "PlayerShip.shotsPerBurst"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 433724407720540,
							"parameters": {
								"variable": "xOffset",
								"value": "(loopindex - ((PlayerShip.shotsPerBurst - 1) / 2)) * 10"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 201372865667818,
							"parameters": {
								"variable": "yOffset",
								"value": "abs((loopindex - ((PlayerShip.shotsPerBurst - 1) / 2))) * 5"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 546474702606349,
							"parameters": {
								"variable": "angleOffset",
								"value": "(loopindex - ((PlayerShip.shotsPerBurst - 1) / 2)) * ( PlayerShip.shotSpread / 2)"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 155758527015027,
							"parameters": {
								"object-to-create": "PlayerStandardBullet",
								"layer": "0",
								"x": "PlayerShip.X + xOffset",
								"y": "PlayerShip.Y + yOffset",
								"create-hierarchy": false,
								"template-name": "\"Standard\""
							}
						},
						{
							"id": "set-angle",
							"objectClass": "PlayerStandardBullet",
							"sid": 659880777259006,
							"parameters": {
								"angle": "270 + angleOffset"
							}
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "PlayerStandardBullet",
							"sid": 347487588845940,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "270 + angleOffset"
							}
						}
					],
					"sid": 750199069177633
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 662461991020749
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "PlayerShip",
					"sid": 681848872025244,
					"parameters": {
						"instance-variable": "shotActive",
						"value": "true"
					}
				}
			],
			"sid": 523025482574980
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 606923131204226,
					"parameters": {
						"interval-seconds": "0.5"
					}
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 235094524018582,
					"parameters": {
						"object": "EnemyShip"
					}
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 116037725015449,
					"parameters": {
						"object-to-create": "EnemyStandardBullet",
						"layer": "0",
						"x": "EnemyShip.X",
						"y": "EnemyShip.Y",
						"create-hierarchy": false,
						"template-name": "\"Standard\""
					}
				},
				{
					"id": "set-angle-of-motion",
					"objectClass": "EnemyStandardBullet",
					"sid": 841346905686386,
					"behaviorType": "Bullet",
					"parameters": {
						"angle": "90"
					}
				}
			],
			"sid": 525542226928638
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 794085284148901,
					"parameters": {
						"interval-seconds": "1.0"
					}
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 454751671992393,
					"parameters": {
						"object-to-create": "EnemyShip",
						"layer": "0",
						"x": "random(100, 800)",
						"y": "random(0, 300)",
						"create-hierarchy": false,
						"template-name": "\"Standard\""
					}
				}
			],
			"sid": 344372679417955
		},
		{
			"eventType": "comment",
			"text": "Shoot standard bullets."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 247782730297436
				}
			],
			"actions": [
				{
					"id": "subtract-from-instvar",
					"objectClass": "PlayerShip",
					"sid": 539855280181403,
					"parameters": {
						"instance-variable": "shotTimer",
						"value": "PlayerShip.dt"
					}
				}
			],
			"sid": 301865085759453,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 109027680600094,
							"parameters": {
								"object": "PlayerShip"
							}
						},
						{
							"id": "while",
							"objectClass": "System",
							"sid": 548537730683608
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "PlayerShip",
							"sid": 395316633306856,
							"parameters": {
								"instance-variable": "shotTimer",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"customAction": "Shoot",
							"objectClass": "PlayerShip",
							"sid": 784230260819123
						}
					],
					"sid": 882912670948259
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "PlayerProjectiles",
					"sid": 378689519148817,
					"parameters": {
						"object": "EnemyCollisionBodies"
					}
				}
			],
			"actions": [
				{
					"id": "subtract-from-instvar",
					"objectClass": "EnemyCollisionBodies",
					"sid": 672810547674769,
					"parameters": {
						"instance-variable": "health",
						"value": "PlayerProjectiles.power"
					}
				},
				{
					"id": "destroy",
					"objectClass": "PlayerProjectiles",
					"sid": 244680014672138
				}
			],
			"sid": 899404958511439
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "EnemyShip",
					"sid": 499402699543178,
					"parameters": {
						"instance-variable": "health",
						"comparison": 3,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "EnemyShip",
					"sid": 422568852119951
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 926442403382011,
					"parameters": {
						"object-to-create": "ExplosionParticle",
						"layer": "0",
						"x": "EnemyShip.X",
						"y": "EnemyShip.Y",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				}
			],
			"sid": 149174218955618
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "EnemyProjectiles",
					"sid": 468318747303000,
					"parameters": {
						"object": "PlayerCollisionBodies"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "EnemyProjectiles",
					"sid": 804710717304895
				}
			],
			"sid": 971789925324384,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-flashing",
							"objectClass": "PlayerCollisionBodies",
							"sid": 719969414344582,
							"behaviorType": "Flash",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "subtract-from-instvar",
							"objectClass": "PlayerCollisionBodies",
							"sid": 157342862871980,
							"parameters": {
								"instance-variable": "health",
								"value": "1"
							}
						},
						{
							"id": "flash",
							"objectClass": "PlayerCollisionBodies",
							"sid": 838053039579951,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.1",
								"off-time": "0.1",
								"duration": "PlayerCollisionBodies.invulnerabilityTimeAfterHit"
							}
						}
					],
					"sid": 154939014484776
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "PlayerShip",
					"sid": 575708339090669,
					"parameters": {
						"instance-variable": "health",
						"comparison": 3,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "PlayerShip",
					"sid": 851786664874786
				}
			],
			"sid": 437157637757606
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-button-pressed",
					"objectClass": "Gamepad",
					"sid": 534027391788672,
					"parameters": {
						"gamepad": "1"
					}
				},
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 718501836451708,
					"parameters": {
						"value": "PlayerController.Count = 1"
					}
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 120613977673363,
					"parameters": {
						"object-to-create": "PlayerController",
						"layer": "0",
						"x": "0",
						"y": "0",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "PlayerController",
					"sid": 272296365105846,
					"parameters": {
						"instance-variable": "playerNumber",
						"value": "2"
					}
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 218838839013412,
					"parameters": {
						"object-to-create": "PlayerShip",
						"layer": "0",
						"x": "500",
						"y": "500",
						"create-hierarchy": false,
						"template-name": "\"Eagle\""
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "PlayerController",
					"sid": 234957208284328,
					"parameters": {
						"instance-variable": "uidControlledShip",
						"value": "PlayerShip.UID"
					}
				}
			],
			"sid": 943971836504947
		}
	],
	"sid": 111151355255525
}